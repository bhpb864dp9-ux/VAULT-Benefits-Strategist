@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root { --bg-depth: #050a10; }
  body {
    @apply bg-slate-950 text-slate-200 font-sans;
    background-image: 
      radial-gradient(circle at 50% 0%, rgba(56, 189, 248, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 10%, rgba(201, 162, 39, 0.04) 0%, transparent 40%);
    background-attachment: fixed;
  }
  h1, h2, h3, h4 { @apply font-serif font-normal tracking-tight; }
}

@layer components {
  /* THE PAUL RAND GLASS ENGINE */
  .glass-premium {
    /* üçé THE SECRET SAUCE: Saturate 180% */
    background: rgba(12, 18, 26, 0.60);
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border-top: 1px solid rgba(255, 255, 255, 0.12);
    border-left: 1px solid rgba(255, 255, 255, 0.06);
    border-right: 1px solid rgba(255, 255, 255, 0.06);
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  }

  /* Replace old classes with the Premium Engine */
  .glass-panel, .card, .glass-chip, .glass-surface {
    @apply glass-premium rounded-3xl p-8 transition-all duration-500 ease-apple-ease;
  }
  
  .glass-chip {
    @apply px-4 py-2 rounded-full text-xs font-medium uppercase tracking-wider;
  }

  .glass-panel:hover, .card:hover {
    transform: translateY(-2px) scale(1.002);
    box-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.7);
    border-top-color: rgba(255, 255, 255, 0.2);
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl;
    @apply font-medium text-sm tracking-wide uppercase transition-all duration-300 ease-apple-ease;
  }
  .btn-primary {
    @apply bg-slate-50 text-slate-950;
    @apply hover:bg-white hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(255,255,255,0.3)];
  }
  .btn-ghost {
    @apply text-slate-300 border border-slate-700/50;
    @apply hover:bg-slate-800/40 hover:text-white hover:border-slate-500;
  }

  .input, .textarea {
    @apply w-full bg-slate-900/30 border border-slate-700/50 rounded-xl px-4 py-3;
    @apply text-slate-100 placeholder-slate-600 outline-none;
    @apply focus:border-brass/50 focus:bg-slate-900/50 transition-all duration-300;
    backdrop-filter: blur(12px);
  }
}


/* ================================================
   IDENTITY PHASE COMPONENTS (Phase 2)
   ================================================ */

/* FORM ELEMENTS */
.form-group {
  @apply space-y-2;
}

.label {
  @apply block text-sm font-medium text-slate-300 uppercase tracking-wider;
}

.input-underline {
  @apply w-full bg-transparent border-0 border-b-2 border-slate-700 px-0 py-3;
  @apply text-slate-100 text-lg placeholder-slate-600 outline-none;
  @apply focus:border-brass transition-all duration-300;
}

/* VA BLUE BUTTON STYLE */
.btn-va-blue {
  @apply inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl cursor-pointer;
  @apply font-medium text-sm tracking-wide uppercase transition-all duration-300 ease-apple-ease;
  @apply bg-blue-600 text-white border border-blue-500;
  @apply hover:bg-blue-500 hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(59,130,246,0.4)];
}

/* BUTTON SIZES */
.btn-sm {
  @apply px-4 py-2 text-xs;
}

.btn-lg {
  @apply px-8 py-4 text-base;
}

/* TACTICAL BUTTON VARIANTS (Landing Page) */
.btn-tactical {
  @apply inline-flex items-center justify-center gap-2 px-6 py-3 rounded-2xl;
  @apply font-medium text-sm tracking-wide uppercase transition-all duration-300 ease-apple-ease;
}

.btn-tactical-advance {
  @apply bg-slate-50 text-slate-950;
  @apply hover:bg-white hover:scale-[1.02] hover:shadow-[0_0_20px_rgba(255,255,255,0.3)];
}

.btn-tactical-retreat {
  @apply text-slate-300 border border-slate-700/50;
  @apply hover:bg-slate-800/40 hover:text-white hover:border-slate-500;
}

/* GLASS PANEL TACTICAL (Workflow Cards) */
.glass-panel-tactical {
  @apply glass-premium rounded-3xl p-8 transition-all duration-500 ease-apple-ease;
}

.glass-panel-tactical:hover {
  transform: translateY(-2px) scale(1.002);
  box-shadow: 0 40px 80px -12px rgba(0, 0, 0, 0.7);
  border-top-color: rgba(255, 255, 255, 0.2);
}

/* LAYOUT UTILITIES */
.container-wide {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

.container-narrow {
  @apply max-w-3xl mx-auto px-4 sm:px-6;
}

/* RESPONSIVE HELPERS */
.mobile-scroll-x {
  @apply overflow-x-auto -mx-4 px-4;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.mobile-scroll-x::-webkit-scrollbar { display: none; }

/* Stack on mobile, row on desktop */
.responsive-stack {
  @apply flex flex-col sm:flex-row;
}

/* Full width inputs on mobile */
@media (max-width: 640px) {
  .input, .textarea, select {
    @apply text-base; /* Prevents iOS zoom on focus */
  }

  .card {
    @apply p-4 rounded-2xl;
  }

  .glass-panel {
    @apply p-4 rounded-2xl;
  }

  .btn {
    @apply px-4 py-2.5 text-sm;
  }
}

/* EYEBROW / CHIP TEXT */
.eyebrow {
  @apply inline-block px-4 py-2 rounded-full text-xs font-medium uppercase tracking-wider;
  @apply bg-brass/10 text-brass border border-brass/20;
}

/* LIQUID TITLE (Hero Headlines) */
.liquid-title {
  @apply font-serif text-slate-50 leading-tight tracking-tight;
}

/* HERO SILHOUETTE (Landing Background) */
.hero-silhouette {
  @apply absolute inset-0 z-0 pointer-events-none opacity-40;
}

/* ANIMATIONS */
.animate-fade-up {
  animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

.animate-slide-in {
  animation: slideIn 0.3s ease-out forwards;
}

.animate-delay-100 { animation-delay: 0.1s; }
.animate-delay-200 { animation-delay: 0.2s; }
.animate-delay-300 { animation-delay: 0.3s; }
.animate-delay-400 { animation-delay: 0.4s; }
.animate-delay-500 { animation-delay: 0.5s; }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

/* SKIP LINK (Accessibility) */
.skip-link {
  @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50;
  @apply focus:px-4 focus:py-2 focus:bg-brass focus:text-slate-950 focus:rounded-lg;
}

/* ================================================
   BODY MAP STYLES (REL-023)
   ================================================ */

.body-map-container {
  @apply relative mx-auto;
  max-width: 280px;
}

/* Base clickable body part */
.body-part {
  fill: rgba(100, 116, 139, 0.15);
  stroke: rgba(148, 163, 184, 0.4);
  stroke-width: 1;
  cursor: pointer;
  transition: all 0.2s ease;
}

.body-part:hover {
  fill: rgba(148, 163, 184, 0.25);
  stroke: rgba(203, 213, 225, 0.6);
  stroke-width: 1.5;
}

/* Intent severity levels */
.body-part.intent-1 {
  fill: rgba(34, 197, 94, 0.35);
  stroke: rgba(74, 222, 128, 0.8);
  stroke-width: 1.5;
}

.body-part.intent-2 {
  fill: rgba(245, 158, 11, 0.35);
  stroke: rgba(251, 191, 36, 0.8);
  stroke-width: 1.5;
}

.body-part.intent-3 {
  fill: rgba(239, 68, 68, 0.35);
  stroke: rgba(248, 113, 113, 0.8);
  stroke-width: 2;
}

.body-part.intent-4 {
  fill: rgba(168, 85, 247, 0.35);
  stroke: rgba(192, 132, 252, 0.8);
  stroke-width: 2;
}

/* Intent legend dots */
.intent-dot {
  @apply inline-block w-2 h-2 rounded-full;
  background: rgba(100, 116, 139, 0.5);
}

.intent-dot-1 {
  background: rgb(34, 197, 94);
  box-shadow: 0 0 6px rgba(34, 197, 94, 0.5);
}

.intent-dot-2 {
  background: rgb(245, 158, 11);
  box-shadow: 0 0 6px rgba(245, 158, 11, 0.5);
}

.intent-dot-3 {
  background: rgb(239, 68, 68);
  box-shadow: 0 0 6px rgba(239, 68, 68, 0.5);
}

.intent-dot-4 {
  background: rgb(168, 85, 247);
  box-shadow: 0 0 6px rgba(168, 85, 247, 0.5);
}

/* Intent text colors */
.text-intent-mild { color: rgb(74, 222, 128); }
.text-intent-moderate { color: rgb(251, 191, 36); }
.text-intent-severe { color: rgb(248, 113, 113); }
.text-intent-total { color: rgb(192, 132, 252); }

/* Progress bar */
.progress-bar {
  @apply h-2 rounded-full overflow-hidden;
  background: rgba(100, 116, 139, 0.2);
}

.progress-bar-fill {
  @apply h-full rounded-full transition-all duration-300;
  background: linear-gradient(90deg, rgb(201, 162, 39), rgb(212, 178, 61));
}
